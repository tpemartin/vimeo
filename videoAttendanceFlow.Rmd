---
title: "vimeo management"
drake_cache: ".vimeo"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r makecondition}
library(drake)
library(rmd2drake)
library(vimeo)
vm <- vimeoService_create()
vm$auth()
vimeoInfo <- list(
  myInfo = vm$getMyInfo()
)
vimeoInfo$showcases <- vm$getMyShowcases()
vimeoInfo$showcases$data %>%
  filter(
    name=="109-1資料科學程式設計"
  ) -> vimeoInfo$courseShowcase
vimeoInfo$courseShowcase$uri %>%
  stringr::str_extract("(?<=/)[:digit:]+$") -> vimeoInfo$courseShowcase$album_id

vimeoInfo$courseShowcase$videos <- 
  vm$get_showcaseVideos(album_id = vimeoInfo$courseShowcase$album_id)
```

